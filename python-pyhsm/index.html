
<!DOCTYPE html>
<html>

  <head>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6195355-4', 'yubico.com');
  ga('send', 'pageview');

</script>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="python-pyhsm : Python code for YubiHSM" />

    <link rel="stylesheet" type="text/css" media="screen" href="/stylesheets/stylesheet.css">

    <title>python-pyhsm</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/Yubico/python-pyhsm">View on GitHub</a>

          <h1 id="project_title">python-pyhsm</h1>
          <h2 id="project_tagline">Python code for YubiHSM</h2>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
      <ul>
        <li><a href="releases.html">Releases</a></li>
      </ul>

<div class="paragraph"><p>This is the Python package to talk to a YubiHSM.</p></div>
<div class="paragraph"><p>The YubiHSM is Yubico&#8217;s take on the Hardware Security Module (HSM),
designed for protecting secrets on authentication servers, including
cryptographic keys and passwords, at unmatched simplicity and low
cost.</p></div>
<div class="paragraph"><p>See the files in utils/, examples/ yhsm-val/, and yubikey-ksm/ to get
an idea of how to use this code.</p></div>
<div class="paragraph"><p>Copyright (c) 2011 Yubico AB
See the file COPYING for licence statement.</p></div>
<div class="exampleblock">
<div class="content">
<div class="paragraph"><p>pyhsm aims to be a reference implementation implementing all the
functions available in the YubiHSM. The base version number of pyhsm
will match the supported hardware version of the YubiHSM (e.g. 0.9.8,
0.9.8a, 0.9.8b all intended to be used with hardware version 0.9.8).</p></div>
<div class="paragraph"><p>pyhsm also includes the regression test suite for the YubiHSM.</p></div>
<div class="paragraph"><p>In addition to the YubiHSM communication library, pyhsm also contains
some applications utilizing the YubiHSM :</p></div>
<div class="ulist"><ul>
<li>
<p>
yhsm-val    - a simple validation server supporting validation of
                  YubiKey OTPs, OATH codes and password hashes.
</p>
</li>
<li>
<p>
yubikey-ksm - ykval YubiKey OTP decryption backend using the
                  YubiHSM.
</p>
</li>
</ul></div>
<div class="paragraph"><p>and some smaller scripts in the utils/ and examples/ directory :</p></div>
<div class="ulist"><ul>
<li>
<p>
yhsm-linux-add-entropy
</p>
<div class="ulist"><ul>
<li>
<p>
Feed Linux kernel with random entropy from the TRNG
                  on the YubiHSM.
</p>
</li>
</ul></div>
</li>
<li>
<p>
yhsm-keystore-unlock
</p>
<div class="ulist"><ul>
<li>
<p>
Unlock the key storage in the YubiHSM with your HSM
                  password. Use with incorrect password to lock it again.
</p>
</li>
</ul></div>
</li>
<li>
<p>
yhsm-sysinfo.py
</p>
<div class="ulist"><ul>
<li>
<p>
Print basic system information about the connected
                  YubiHSM.
</p>
</li>
</ul></div>
</li>
<li>
<p>
yhsm-monitor-exit.py
</p>
<div class="ulist"><ul>
<li>
<p>
Get a YubiHSM <strong>in debug mode</strong> to enter configuration
                  mode again, without having to press the little button
                  while inserting it into the USB port.
</p>
</li>
</ul></div>
</li>
<li>
<p>
yhsm-password-auth.py
</p>
<div class="ulist"><ul>
<li>
<p>
Example of how to turn passwords (or hashes of
                  passwords if you like PBKDF2) into AEADs that can be
                  used to verify the password later on.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div></div>
<h1 id="_installation">  Installation</h1>
<div class="paragraph"><p>pyhsm is known to work with Python 2.6 and 2.7.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">If you want to use any of the daemons (yhsm-validation-server,
yhsm-yubikey-ksm) you will want to use Python 2.7 or later.
SocketServer.py lacks critical timeout handling in Python 2.6.</td>
</tr></table>
</div>
<div class="paragraph"><p>It is primarily tested using Debian/Ubuntu, but is of course
meant to work on as many platforms as possible.</p></div>
<div class="paragraph"><p>pyhsm is installable in the standard-python way :</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>$ cd pyhsm-$ver
$ python setup.py install</tt></pre>
</div></div>
<div class="paragraph"><p>This requires the python-setuptools (well, the package is called
that in Debian/Ubuntu).</p></div>
<div class="paragraph"><p>You will also need the pyserial package (python-serial in
Debian/Ubuntu) from <a href="http://pyserial.sourceforge.net/">http://pyserial.sourceforge.net/</a> and, to run
the test suite, pycrypto from <a href="http://www.pycrypto.org/">http://www.pycrypto.org/</a>
(python-crypto in Debian/Ubuntu).</p></div>
<div class="paragraph"><p>I use Ubuntu, so I created a PPA (Personal Package Archive) for
easy installation (and removal) on Ubuntu systems.</p></div>
<div class="paragraph"><p>If you use a recent Ubuntu release, you should be able to install
python-pyhsm with these commands :</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>$ sudo add-apt-repository ppa:yubico/stable
$ sudo apt-get update
$ sudo apt-get install python-pyhsm</tt></pre>
</div></div>
<div class="paragraph"><p>The Launchpad PPA key generated for the packages is 32CBA1A9.</p></div>
<div class="paragraph"><p>If you want to work on Debian/Ubuntu packaging, or just build packages
directly from version controlled sources, you can find it maintained
in a git repository.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>$ git clone git://github.com/Yubico/python-pyhsm-dpkg.git
$ cd python-pyhsm-dpkg
$ git-buildpackage</tt></pre>
</div></div>
<div class="paragraph"><p>See <a href="https://github.com/Yubico/python-pyhsm-dpkg">https://github.com/Yubico/python-pyhsm-dpkg</a> for more information.</p></div>
<div class="exampleblock">
<div class="content">
<div class="paragraph"><p>Comments, feedback and patches welcome!</p></div>
<div class="paragraph"><p>Fredrik Thulin &lt;<a href="mailto:fredrik@yubico.com">fredrik@yubico.com</a>&gt; 2011-03-28</p></div>
</div></div>

</section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
<footer class="inner">
<p class="copyright">python-pyhsm maintained by <a href="https://github.com/Yubico">Yubico</a></p>
<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
</footer>
</div></body></html>
